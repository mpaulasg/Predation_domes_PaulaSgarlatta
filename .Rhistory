Anova(omn_maxN)
summary(omn_maxN)
plot(omn_maxN)
levene.test(axN_min  ~ Method + Site ,
data=omnivore)
leveneTest(axN_min  ~ Method + Site ,
data=omnivore)
leveneTest(maxN_min  ~ Method + Site ,
data=omnivore)
leveneTest(maxN_min  ~ Method ,
data=omnivore)
plot(omn_maxN, 2)
plot(omn_maxN, 1)
leveneTest(maxN_min  ~ Method + Site ,
data=omnivore)
leveneTest(maxN_min  ~ Method*Site ,
data=omnivore)
omn_maxN <- glmmTMB(maxN_min  ~ Method + Site ,
data=omnivore,
family = Gamma())
summary(omn_maxN)
data <- read.csv(here:: here("data/data_predation.csv"))
data_domes <- data %>%
filter (Method != "Squidpop",
Treatment != "No_fish") %>%
dplyr::select(-Treatment)
data_domes <- unite(data_domes, rep_ID, c("Site", "Replicate", "Time"), sep = "_", remove = FALSE)
attack_hour <- data_domes %>%
dplyr::group_by(Area,Site, rep_ID,Time)%>%
dplyr::summarise(attack=sum(attack_hour,na.rm=T))
inspecting_hour <- data_domes %>%
dplyr::group_by(Area,Site,rep_ID,Time)%>%
dplyr::summarise(inspecting=sum(inspecting_hour,na.rm=T))
min_val_attack <- attack_hour %>%
dplyr::select(attack) %>%
dplyr::filter(attack>0)
min_val_attack <- min(min_val_attack$attack)/2
attack_hour <- attack_hour %>% mutate(attack_min = attack + min_val_attack) %>%
drop_na(attack)# Make new variable and add half the minimum value
mod1_hour <- glmmTMB (attack_min ~ Area + (1|Site) + (1|rep_ID),
data=attack_hour, family = Gamma(link = "log"))
summary(mod1_hour)
Anova(mod1_hour) #0.32
attack_res_domes_hour <- simulateResiduals(mod1_hour)
plot(attack_res_domes_hour) #Good
min_val_ins <- inspecting_hour %>%
dplyr::select(inspecting) %>%
dplyr::filter(inspecting>0)
min_val_ins <- min(min_val_ins$inspecting)/2
inspecting_hour <- inspecting_hour %>% mutate (inspecting_min = inspecting + min_val) %>%
drop_na(inspecting)# Make new variable and add half the minimum value
mod2_hour <- glmmTMB (inspecting_min ~ Area + (1|Site) + (1|rep_ID),
data=inspecting_hour, family = Gamma(link = "log"))
summary(mod2_hour)
Anova(mod2_hour) #p=0.05
ins_res_domes_hour <- simulateResiduals(mod2_hour)
plot(ins_res_domes_hour) #Good!
inspecting_hour <- inspecting_hour %>% mutate (inspecting_min = inspecting + min_val_ins) %>%
drop_na(inspecting)# Make new variable and add half the minimum value
mod2_hour <- glmmTMB (inspecting_min ~ Area + (1|Site) + (1|rep_ID),
data=inspecting_hour, family = Gamma(link = "log"))
summary(mod2_hour)
Anova(mod2_hour) #p=0.05
ins_res_domes_hour <- simulateResiduals(mod2_hour)
plot(ins_res_domes_hour) #Good!
attack_hour_total <- data_domes %>%
dplyr::group_by(Area,Site, rep_ID,Time, Trophic.group)%>%
dplyr::summarise(attack=sum(attack_hour,na.rm=T))%>%
ungroup%>%
tidyr::complete(Trophic.group, nesting(Area, Site, rep_ID,Time),fill= list(attack=0)) %>%
replace(is.na(.), 0)%>% # replace the NaN resulting from dividing 0 by 0 for 0
glimpse()
min_val_attack_tg <- attack_hour_total %>%
dplyr::select(attack) %>%
dplyr::filter(attack>0)
min_val_attack_tg <- min(min_val_attack_tg$attack)/2
View(inspecting_hour)
View(data_domes)
mod1 <- glmmTMB (attack   ~ Area + Site + (1|rep_ID) + offset (total_video_min),
data=attack_number, family = poisson())
attack_number <- data_domes %>%
dplyr::group_by(Area,Site, rep_ID,Time, total_video_min)%>%
dplyr::summarise(attack=sum(attack_number,na.rm=T))
mod1 <- glmmTMB (attack   ~ Area + (1|Site) + (1|rep_ID) + offset (total_video_min),
data=attack_number, family = poisson())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + (1|rep_ID) + offset (total_video_min),
data=attack_number, family = poisson())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + offset (total_video_min),
data=attack_number, family = poisson())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
mod1 <- glmmTMB (attack   ~ Area + Site + (1|rep_ID) + offset (total_video_min),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + (1|rep_ID) + offset (total_video_min),
data=attack_number, family = nbinom1())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + offset (total_video_min),
data=attack_number, family = nbinom1())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + offset = log(total_video_min/60),
data=attack_number, family = nbinom1())
mod1 <- glmmTMB (attack   ~ Area + Site + offset = (log(total_video_min/60)),
data=attack_number, family = nbinom1())
mod1 <- glmmTMB (attack   ~ Area + Site + offset = (log(total_video_min/60)),
data=attack_number, family = nbinom1())
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + offset = (log(total_video_min/60)),
data=attack_number, family = nbinom1())
mod1 <- glmmTMB (attack   ~ Area + Site + offset (log(total_video_min/60)),
data=attack_number, family = nbinom1())
summary(mod1)
Anova(mod1) #
mod1 <- glmmTMB (attack   ~ Area + Site + (1|rep_ID)  + offset (log(total_video_min/60)),
data=attack_number, family = nbinom1())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + (1|rep_ID)  + offset (log(total_video_min/60)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + Site + (1|rep_ID)  + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area*Site + (1|rep_ID)  + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
mod1 <- glmmTMB (attack   ~ Area*Site + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
View(attack_number)
mod1 <- glmmTMB ( attack_number  ~ Area*Site + offset (log(total_video_min)),
data=data_domes, family = nbinom2())
summary(mod1)
mod1 <- glmmTMB ( attack_number  ~ Area + Site + offset (log(total_video_min)),
data=data_domes, family = nbinom2())
summary(mod1)
Anova(mod1) #
mod1 <- glmmTMB (attack ~ Area + Site + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack ~ Area + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack ~ Area + offset (log(total_video_min/60)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack ~ Area + offset (total_video_min),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack ~ Area + Site + offset (total_video_min),
data=attack_number, family = nbinom2())
summary(mod1)
mod1 <- glmmTMB (attack ~ Area + Site + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
mod1 <- glmmTMB (attack ~ Area + (1|Site) + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack ~ Area + Site + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack ~ Area + offset (log(total_video_min)),
data=attack_number, family = nbinom2())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
mod1 <- glmmTMB (attack   ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=attack_number, family = poisson())
summary(mod1)
Anova(mod1) #
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Poisson is the best one but still not great
View(attack_number)
mod1 <- glmmTMB (attack   ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=attack_number, family = poisson())
summary(mod1)
Anova(mod1) # p=0.28
attack_res_domes <- simulateResiduals(mod1)
plot(attack_res_domes) #Good
mod2 <- glmmTMB (inspecting ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=inspecting_number, family = nbinom2())
inspecting_number <- data_domes %>%
dplyr::group_by(Area,Site,rep_ID,Time, total_video_min)%>%
dplyr::summarise(inspecting=sum(inspecting_number,na.rm=T))
mod2 <- glmmTMB (inspecting ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=inspecting_number, family = nbinom2())
summary(mod2)
Anova(mod2)
attack_res_domes_mod2 <- simulateResiduals(mod2)
plot(attack_res_domes_mod2) # Residuals look terrible...
mod2 <- glmmTMB (inspecting ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=inspecting_number, family = poisson ())
summary(mod2)
Anova(mod2)
attack_res_domes_mod2 <- simulateResiduals(mod2)
plot(attack_res_domes_mod2) # Good
mod2 <- glmmTMB (inspecting ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=inspecting_number, family = nbinom1 ())
summary(mod2)
Anova(mod2)
attack_res_domes_mod2 <- simulateResiduals(mod2)
plot(attack_res_domes_mod2) # Good
mod2 <- glmmTMB (inspecting ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=inspecting_number, family = nbinom2 ())
summary(mod2)
Anova(mod2)
attack_res_domes_mod2 <- simulateResiduals(mod2)
plot(attack_res_domes_mod2) # Good
attack_total <- data_domes %>%
dplyr::group_by(Area,Site, rep_ID,Time, total_video_min, Trophic.group)%>%
dplyr::summarise(attack=sum(attack_number,na.rm=T))%>%
ungroup%>%
tidyr::complete(Trophic.group, nesting(Area, Site, rep_ID,Time, total_video_min),fill= list(attack=0)) %>%
replace(is.na(.), 0)%>% # replace the NaN resulting from dividing 0 by 0 for 0
glimpse()
piscivores <- attack_total %>%
filter(Trophic.group == "Piscivore")
pisc <- glmmTMB (attack ~ Area + (1|Site)+ (1|rep_ID) + offset (log(total_video_min)),
data=piscivores,
family = nbinom1())
Anova(pisc) #p=0.16
pis_res_domes <- simulateResiduals(pisc)
plot(pis_res_domes) # I think is good?? - If this is correct, it changes our results
pisc <- glmmTMB (attack ~ Area + (1|Site)+ (1|rep_ID) + offset (log(total_video_min)),
data=piscivores, zi=~1,
family = nbinom1())
Anova(pisc) #p=0.16
pis_res_domes <- simulateResiduals(pisc)
plot(pis_res_domes) # I think is good?? - If this is correct, it changes our results
View(piscivores)
pisc <- glmmTMB (attack ~ Area + (1|Site)+ (1|rep_ID) + offset (log(total_video_min)),
data=piscivores,
family = poisson())
Anova(pisc) #p=0.03
pis_res_domes <- simulateResiduals(pisc)
plot(pis_res_domes) # Good
mod2 <- glmmTMB (inspecting ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=inspecting_number, family = nbinom2 ())
summary(mod2)
Anova(mod2)
attack_res_domes_mod2 <- simulateResiduals(mod2)
plot(attack_res_domes_mod2) # Good
pisc <- glmmTMB (attack ~ Area + (1|Site)+ (1|rep_ID) + offset (log(total_video_min)),
data=piscivores,
family = poisson())
Anova(pisc) #p=0.03
pis_res_domes <- simulateResiduals(pisc)
plot(pis_res_domes) # Good
inspect_total <- data_domes %>%
dplyr::group_by(Area,Site, rep_ID,Time, total_video_min, Trophic.group)%>%
dplyr::summarise(inspect=sum(inspecting_number,na.rm=T))%>%
ungroup%>%
tidyr::complete(Trophic.group, nesting(Area, Site, rep_ID,Time, total_video_min),fill= list(inspect=0)) %>%
replace(is.na(.), 0)%>% # replace the NaN resulting from dividing 0 by 0 for 0
glimpse()
piscivores_inv <- inspect_total %>%
filter(Trophic.group == "Piscivore")
pisc_inv <- glmmTMB(inspect  ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data=piscivores_inv,
family = poisson())
summary(pisc_inv)
Anova(pisc_inv)
pisc_inv_res_domes <- simulateResiduals(pisc_inv)
plot(pisc_inv_res_domes) #Nbinom1 best one, but still bad
planktivore_inv <- inspect_total %>%
filter(Trophic.group == "Planktivore")
plank_inv <- glmmTMB(inspect ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)), data=planktivore_inv,
family = nbinom1())
Anova(plank_inv) # p=0.653
plank_inv_res_domes <- simulateResiduals(plank_inv)
plot(plank_inv_res_domes) # Good!
plank_inv <- glmmTMB(inspect ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)), data=planktivore_inv,
family = poisson())
Anova(plank_inv) # p=0.653
plank_inv_res_domes <- simulateResiduals(plank_inv)
plot(plank_inv_res_domes) # Good!
plank_inv <- glmmTMB(inspect ~ Area + (1|Site) + (1|rep_ID) + offset (log(total_video_min)), data=planktivore_inv,
family = nbinom1())
Anova(plank_inv) # p=0.653
plank_inv_res_domes <- simulateResiduals(plank_inv)
plot(plank_inv_res_domes) # Good!
data_squid <- data %>%
dplyr:: filter (Area != "Lizard Island",
Site != "Malabar 1 ",
Treatment != "No_fish") %>%
dplyr::select(-Treatment)
data_squid <- unite(data_squid, rep_ID, c("Site", "Replicate", "Time"), sep = "_", remove = FALSE)
attack_number_squid <- data_squid %>%
dplyr::group_by(Method, Area,Site, rep_ID,Time, total_video_min)%>%
dplyr::summarise(attack=sum(attack_number,na.rm=T))
inspecting_number_squid <- data_squid %>%
dplyr::group_by(Method, Area,Site,rep_ID,Time, total_video_min)%>%
dplyr::summarise(inspecting=sum(inspecting_number,na.rm=T))
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)), data=attack_number_squid,
family = nbinom1())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)), data=attack_number_squid,
family = poisson())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min), data=attack_number_squid,
family = poisson())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min), data=attack_number_squid,
family = nbinom1())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min),
data= inspecting_number_squid,
family = poisson())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good(ish)
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min),
data= inspecting_number_squid,
family = nbinom1())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good(ish)
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min),
data= inspecting_number_squid,
family = nbinom2())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good(ish)
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data= inspecting_number_squid,
family = nbinom2())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good(ish)
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data= inspecting_number_squid,
family = poisson())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good(ish)
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)), data=attack_number_squid,
family = poisson())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min),
data= inspecting_number_squid,
family = poisson())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min),
data= inspecting_number_squid,
family = nbinom1())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good
i
i
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min),
data= inspecting_number_squid,
family = nbinom2())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)), data=attack_number_squid,
family = poisson())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min), data=attack_number_squid,
family = poisson())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
attack_squid <- glmmTMB (attack   ~ Method + (1|Site) + (1|rep_ID) + offset (total_video_min), data=attack_number_squid,
family = nbinom1())
summary(attack_squid)
Anova(attack_squid) # method - p<0.00002
attack_res_squid <- simulateResiduals(attack_squid)
plot(attack_res_squid) # Good
inspect_squid <- glmmTMB (inspecting    ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data= inspecting_number_squid,
family = poisson())
Anova(inspect_squid) # p=0.53
inspec_res_squid <- simulateResiduals(inspect_squid)
plot(inspec_res_squid) # Good(ish)
attack_total_squid <- data_squid %>%
dplyr::group_by(Method,Site, rep_ID,Time, Trophic.group, total_video_min)%>% # sum everything in the replicate by species
dplyr::summarise(attack=sum(attack_number,na.rm=T)) %>%
ungroup%>%
tidyr::complete(Trophic.group, nesting(Method, Site,rep_ID,Time, total_video_min), fill= list(attack=0)) %>%
replace(is.na(.), 0)%>% # replace the NaN resulting from dividing 0 by 0 for 0
glimpse()
inspecting_total_squid <- data_squid %>%
dplyr::group_by(Method, Site, rep_ID,Time, Trophic.group, total_video_min)%>% # sum everything in the replicate by species
dplyr::summarise(inspecting=sum(inspecting_number,na.rm=T)) %>%
ungroup%>%
tidyr::complete(Trophic.group, nesting(Method, Site,rep_ID,Time, total_video_min), fill= list(inspecting=0)) %>%
replace(is.na(.), 0)%>% # replace the NaN resulting from dividing 0 by 0 for 0
glimpse()
Omnivore_squid <- attack_total_squid %>%
filter(Trophic.group == "Omnivore")
omn_squid <- glmmTMB(attack   ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data = Omnivore_squid,
family = nbinom2(link = "log"))
Anova(omn_squid) #p<0.00002
omn_attack_res_squid <- simulateResiduals(omn_squid)
plot(omn_attack_res_squid) # This is the best one, but still not good
omn_squid <- glmmTMB(attack   ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data = Omnivore_squid,
family = nbinom2())
Anova(omn_squid) #p<0.00002
omn_attack_res_squid <- simulateResiduals(omn_squid)
plot(omn_attack_res_squid) # This is the best one, but still not good
omn_squid <- glmmTMB(attack   ~ Method + (1|Site) + (1|rep_ID) + offset (log(total_video_min)),
data = Omnivore_squid,
family = poisson())
Anova(omn_squid) #p<0.00002
omn_attack_res_squid <- simulateResiduals(omn_squid)
plot(omn_attack_res_squid) # This is the best one, but still not good
planktivore_inv <- inspecting_total_squid %>%
filter(Trophic.group == "Planktivore")
plank_inv <- glmmTMB(inspecting  ~ Method + (1|Site) + offset (total_video_min),
data=planktivore_inv,
family = nbinom2())
Anova(plank_inv) # p<0.0001
plank_inv_res_squid <- simulateResiduals(plank_inv)
plot(plank_inv_res_squid) # Good!
plank_inv <- glmmTMB(inspecting  ~ Method + (1|Site) + offset (log(total_video_min)),
data=planktivore_inv,
family = nbinom2())
Anova(plank_inv) # p<0.0001
plank_inv_res_squid <- simulateResiduals(plank_inv)
plot(plank_inv_res_squid) # Good!
plank_inv <- glmmTMB(inspecting  ~ Method + (1|Site) + offset (log(total_video_min)),
data=planktivore_inv,
family = poisson())
Anova(plank_inv) # p<0.0001
plank_inv_res_squid <- simulateResiduals(plank_inv)
plot(plank_inv_res_squid) # Good!
plank_inv <- glmmTMB(inspecting  ~ Method + (1|Site) + offset (total_video_min),
data=planktivore_inv,
family = nbinom1())
Anova(plank_inv) # p<0.0001
plank_inv_res_squid <- simulateResiduals(plank_inv)
plot(plank_inv_res_squid) # Good!
plank_inv <- glmmTMB(inspecting  ~ Method + (1|Site) + offset (total_video_min),
data=planktivore_inv,
family = nbinom2())
Anova(plank_inv) # p<0.0001
plank_inv_res_squid <- simulateResiduals(plank_inv)
plot(plank_inv_res_squid) # Good!
